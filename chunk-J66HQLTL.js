import{a as u}from"./chunk-XMIKUBPV.js";import{d as s,l as m,q as f}from"./chunk-UEIXULZA.js";import{g as c,ia as n,na as a,z as h}from"./chunk-FHDIX2EK.js";var l=(()=>{let t=class t{constructor(){this.http=a(s),this.AUTH_API=f.AUTH_API}login(r,o){return this.http.post(`${this.AUTH_API}/login`,{username:r,password:o}).pipe(h(e=>({user:{id:e.id,username:e.username,email:e.email,firstName:e.firstName,lastName:e.lastName,gender:e.gender,image:e.image},accessToken:e.accessToken,refreshToken:e.refreshToken})))}getProfile(){return this.http.get(`${this.AUTH_API}/me`)}refresh(r){return this.http.post(`${this.AUTH_API}/refresh`,r)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=n({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var S=(()=>{let t=class t{constructor(){this.http=a(s),this.router=a(m),this.tokenStorageService=a(u),this.authFacade=a(l)}login(r,o){return this.authFacade.login(r,o)}logout(){return c(this,null,function*(){this.tokenStorageService.clear(),yield this.router.navigateByUrl("/login")})}refresh(r){return this.authFacade.refresh(r)}getProfile(){return this.authFacade.getProfile()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=n({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();export{l as a,S as b};
