import{q as n}from"./chunk-UEIXULZA.js";import{Da as a,ia as r}from"./chunk-FHDIX2EK.js";var d=(()=>{let t=class t{constructor(){this.STORAGE_KEY=n.FAVOURITE_STORAGE_KEY,this.favouriteBooks=a([]),this.favouriteBooks.set(this.loadFavouriteBooks())}loadFavouriteBooks(){let o=localStorage.getItem(this.STORAGE_KEY);return o?JSON.parse(o):[]}addBookInFavourite(o){this.favouriteBooks().some(e=>e.id===o.id)||(this.favouriteBooks.update(e=>[o,...e]),this.saveToStorage())}removeBookFromFavourite(o){this.favouriteBooks.update(i=>i.filter(e=>e.id!==o.id)),this.saveToStorage()}saveToStorage(){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.favouriteBooks()))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=r({token:t,factory:t.\u0275fac,providedIn:"root"});let s=t;return s})();export{d as a};
