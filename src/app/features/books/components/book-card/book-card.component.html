<div class="w-full max-w-sm bg-white rounded-3xl shadow-lg border border-slate-200 
            flex flex-col overflow-hidden transition-transform transform hover:scale-105 hover:shadow-2xl">
  <div class="w-full h-48 bg-gray-100 overflow-hidden relative">
    <img 
      [src]="book().imageLinks.thumbnail || book().imageLinks.smallThumbnail"
      alt="{{ book().title }}"
      class="w-full h-full object-cover transition-transform duration-300 ease-out hover:scale-105"
      loading="lazy"
    />
  </div>
  <div class="px-5 py-4 flex-1 flex flex-col justify-between space-y-2">
    <div>
      <h3 class="text-xl font-bold text-slate-900 truncate">{{ book().title }}</h3>
      <div class="mt-2 flex gap-2 overflow-hidden whitespace-nowrap">
        @for (author of book().authors; track author) {
          <span class="inline-block px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full truncate">
            {{ author }}
          </span>
        }
      </div>
      <p class="mt-2 text-sm text-slate-700"><strong>Language:</strong> {{ book().language }}</p>
      <div class="mt-2 flex flex-wrap gap-2">
        @for (category of book().categories; track category) {
          <span class="px-2.5 py-1 text-xs font-semibold bg-green-100 text-green-700 rounded-full">
            {{ category }}
          </span>
        }
      </div>
    </div>

    <!-- Card Actions -->
    <div class="mt-4 flex items-center justify-between">
      <div class="flex gap-2">
        @if (showDetailsBtn) {
          <button [routerLink]="['/books', book().id]"
                  class="px-4 py-2 text-sm font-medium rounded-lg bg-blue-600 text-white hover:bg-blue-700">
            Details
          </button>
        }

        @if (showFavourite) {
          <button (click)="onAddInFavourite()" aria-label="Add to favourite"
                  class="p-2 rounded-full bg-red-100 text-red-600 hover:bg-red-200">
            <svg class="w-5 h-5 fill-current" viewBox="0 0 24 24">
              <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 
                       2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09
                       C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5
                       c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
            </svg>
          </button>
        }
      </div>

      @if (showDelete) {
        <button (click)="onDelete()" aria-label="Delete"
                class="p-2 rounded-full bg-red-600 text-white hover:bg-red-700">
          <svg class="w-5 h-5 fill-current" viewBox="0 0 24 24">
            <path d="M3 6h18v2H3V6zm2 3h14l-1.5 12h-11L5 9zm5 2v8h2v-8h-2zm4 0v8h2v-8h-2z"/>
          </svg>
        </button>
      }
    </div>
  </div>
</div>
