import{d as l}from"./chunk-HAAGQVTK.js";import{Vc as n,d as i,e as m,f as u,gd as d,hd as r,ia as g,id as P,na as p,rc as x}from"./chunk-VG73PTL2.js";var o=P("books"),k=r(o,t=>t.items),f=r(o,t=>t.totalItems),v=r(o,t=>t.loading),C=r(o,t=>t.error),w=r(o,t=>t.maxResults),S=r(o,t=>t.currentPage),I=r(o,t=>t.windowSize),V=r(o,t=>t.startIndex);var E=(()=>{var e;let a=class a{constructor(){m(this,e);u(this,e,p(d)),this.currentPage=n(i(this,e).select(S),{initialValue:1}),this.maxResults=n(i(this,e).select(w),{initialValue:10}),this.totalItems=n(i(this,e).select(f),{initialValue:0}),this.windowSize=n(i(this,e).select(I),{initialValue:5}),this.maxPage=x(()=>{let s=this.maxResults(),c=this.totalItems();return Math.ceil(c/s)})}nextPage(){this.currentPage()<this.maxPage()&&i(this,e).dispatch(l({page:this.currentPage()+1}))}prevPage(){this.currentPage()>1&&i(this,e).dispatch(l({page:this.currentPage()-1}))}goToPage(s){s>=1&&s<=this.maxPage()&&i(this,e).dispatch(l({page:s}))}visiblePages(){let s=this.maxPage(),c=this.currentPage(),h=Math.floor((c-1)/this.windowSize())*this.windowSize()+1,z=Math.min(h+this.windowSize()-1,s);return Array.from({length:z-h+1},(R,M)=>h+M)}setCurrentPage(s=1){i(this,e).dispatch(l({page:s}))}};e=new WeakMap,a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=g({token:a,factory:a.\u0275fac,providedIn:"root"});let t=a;return t})();export{k as a,E as b};
